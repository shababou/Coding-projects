
package Reseaux;
import liguapoulpe.*;
import java.net.*;
import java.io.*;

/**
 * Ce thread permet d'Ã©changer des messages entre le serveur et l'IHM.
 */

public class TCP_CLIENT extends Thread
{
  //////////////////////////////////////////////////////////////////////////////
  //////////////////////////////ATTRIBUTES//////////////////////////////////////
  //////////////////////////////////////////////////////////////////////////////
  Socket sock;
  Object data;
  int port;
  String host;

  //////////////////////////////////////////////////////////////////////////////
  //////////////////////////////CONSTRUCTOR/////////////////////////////////////
  //////////////////////////////////////////////////////////////////////////////
  public TCP_CLIENT(String host, int port, Object data)
  {
    this.host=host;
    this.port=port;
    this.data=data;
  }

  //////////////////////////////////////////////////////////////////////////////
  //////////////////////////////METHOD RUN/////////////////////////////////////
  //////////////////////////////////////////////////////////////////////////////
  public void run()
  {
    try
    {
      sock=new Socket(host, port);
      BufferedOutputStream output=new BufferedOutputStream(sock.getOutputStream());
      ObjectOutput oos = new ObjectOutputStream(output);
      oos.writeObject(data);
      oos.flush();
      sock.close();
    }
    catch(IOException e) { }
  }

}